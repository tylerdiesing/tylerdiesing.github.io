[
  {
    "objectID": "indexnew.html",
    "href": "indexnew.html",
    "title": "What does one of the greatest title rivalries in F1 history look like through the data?",
    "section": "",
    "text": "The 2021 Formula 1 season will undoubtedly go down as one of the best rivalry seasons of all time in any sport. Every race, every lap, every twist and turn of the season, Max Verstappen and Lewis Hamilton exchanged blows one way or another all the way up until the final race in Abu Dhabi where they both arrived on equal points. So, in a title fight that was tighter than any corner of the Monaco Street circuit, how did these two gladiators fare against each other throughout the season? Where did they gain on eachother? Where did they lose out? And how did these two manage to stay in another league completely compared to the rest of the grid?\n\n\nCode\noptions(repos = c(CRAN = \"https://cloud.r-project.org\"))\n\ninstall.packages(\"f1dataR\", repos = \"https://cloud.r-project.org\")\n\n\n\nThe downloaded binary packages are in\n    /var/folders/wn/kqb0kkyd02j2xnh9bvfqvgy00000gn/T//Rtmp8QQdxN/downloaded_packages\n\n\nCode\ninstall.packages(\"f1dataR\")\n\n\n\nThe downloaded binary packages are in\n    /var/folders/wn/kqb0kkyd02j2xnh9bvfqvgy00000gn/T//Rtmp8QQdxN/downloaded_packages\n\n\nCode\nlibrary(f1dataR)\n\n\nLoading required package: reticulate\n\n\nCode\ninstall.packages(c(\"httr\", \"jsonlite\", \"dplyr\", \"ggplot2\"))\n\n\n\nThe downloaded binary packages are in\n    /var/folders/wn/kqb0kkyd02j2xnh9bvfqvgy00000gn/T//Rtmp8QQdxN/downloaded_packages\n\n\nCode\nlibrary(f1dataR)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(ggplot2)\n\n\nFor this analysis I mainly used data from the “f1datar” library, as well as a spreadsheet I made for points totals using stats I got from the official F1 results page on their website.\n7x World Champion Lewis Hamilton VS Max Verstappen hunting for his first. Mercedes coming off of winning 7 constructors titles in a row VS Redbull looking for their first since 2013. Unstoppable force VS immovable object.\nYou couldn’t have asked for a closer matchup, but just how close was it? lets put it into perspective…\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\nrace_points &lt;- data.frame(\n  Race = 1:22,\n  Verstappen = c(18,25,18,19,25,0,26,25,26,0,2,25,25,0,18,18,25,25,18,19,18,26),\n  Hamilton = c(25,19,25,25,7,0,18,19,12,25,18,15,19,0,25,10,19,18,25,25,26,18)\n) %&gt;%\n  mutate(\n    Verstappen_Cumulative = cumsum(Verstappen),\n    Hamilton_Cumulative = cumsum(Hamilton)\n  )\n\nplot_data &lt;- race_points %&gt;%\n  pivot_longer(cols = c(Verstappen_Cumulative, Hamilton_Cumulative),\n               names_to = \"Driver\", values_to = \"Points\") %&gt;%\n  group_by(Driver) %&gt;%\n  mutate(LabelPos = Points + 15)\n\nggplot(plot_data, aes(x = factor(Race), y = Points, fill = Driver)) +\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.8), width = 0.7) +\n  geom_text(aes(y = LabelPos, label = Points), \n            angle = 45, hjust = 0, vjust = 0.5,\n            size = 1.9, color = \"black\",\n            position = position_dodge(width = 0.8)) +  # Only position_dodge here\n  scale_x_discrete(breaks = 1:22) +\n  scale_fill_manual(values = c(\"Verstappen_Cumulative\" = \"blue\", \n                               \"Hamilton_Cumulative\" = \"#00D2BE\"),\n                    labels = c(\"Lewis Hamilton\", \"Max Verstappen\")) +\n  labs(title = \"The finest of margins: points totals after each race\",\n       subtitle = \"\n       even the smallest difference in results at any race could have changed the entire \n       outcome of the season\",\n       caption = \"From stats on F1 website | by Tyler Diesing\",\n       x = \"Race Number\",\n       y = \"Cumulative Points\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 0, vjust = 0.5),\n    panel.grid.major.x = element_blank(),\n    legend.position = \"top\",\n    plot.margin = margin(20, 20, 20, 20),\n    plot.title = element_text(size = 16, face = \"bold\"), \n    plot.subtitle = element_text(size = 12)            \n  ) +\n  expand_limits(y = max(plot_data$LabelPos) + 20)\n\n\n\n\n\n\n\n\n\nThis is every race of the 2021 season through the lens of how many points Hamilton and Verstappen had accumulated after each round, which shows a couple key moments throughout the season. The first thing you should know is how much each finishing position is worth in points. Only the top ten earn points with A 1st place finish being 25 points in the bag, 2nd place = 18 points, 3rd = 15 points, and 4th = 12 points with the rest of the positions decreasing by 2 points until 10th place which is worth 1.\nSafe to say, Max and Lewis occupied the podium a lot, in fact, the first five races were won by either one of them. This brings us to round 6 in Azerbaijan, our first truly pivotal moment. Verstappen suffered a tire blowout on the main straight, sending his RedBull bouncing off the barriers and taking away an opportunity to score points. Lewis, who was now leading the race, now had a perfect opportunity to put a major gap between himself and Max in the standings, except he didn’t, because he didn’t collect a single point that day because he locked his brakes on the restart, allowing every driver behind him to slip by.\nNeither driver got points that day, and you’ll notice the same thing happened during round 14 in Italy. In spectacular fashion, Lewis was coming out of the pits as Max was coming down the main straight right behind him. The two cars went side by side into Monzas notoriously tight turn 1 and inevitably Verstappen’s RedBull ended up sitting atop Hamilton’s Mercedes in the gravel. Another 0-0 for our champions.\nThese two races are a lot to think about, but especially when you also look at how the lead swung between them throughout the season. Lewis looked set to take off with the title after round 4, but a brutal round 5 in Monaco not only brought Max back into the fight, it propelled him to heights like round 9 where suddenly it was looking like he might run away with the championship. From there on you can see the two were practically wheel to wheel every race until somehow they arrived at the grand finale in Abu Dhabi with equal points.\nThe races themselves were thrillers, but this chart shows just how absurdly close Max and Lewis were for the whole season. Beyond that, it also shows what I think Lewis Hamilton’s nightmares must look like after ultimately losing that final race. All it would’ve taken was for him to finish just one of those two zero point races for everything to be different.\nSlightly lighter on the brakes into turn one at Azerbaijan and Lewis Hamilton would be a record breaking 8x world champion.\nLet’s zoom in and take a look at some individual races, starting with the French Grand Prix at Circuit Paul Ricard.\nThis is a line chart showing each individual lap time throughout the whole race along with tire/pitstop strategy. Strategists for the teams spend days staring at charts like this in an effort to figure out what kind of strategy will work best for which tires, tracks, weather, elevations, the list goes on.\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\nlaps_data &lt;- load_laps(season = 2021, round = 7)\n\nplot_data &lt;- laps_data %&gt;%\n  filter(driver_id %in% c(\"max_verstappen\", \"hamilton\"))\n\nfull_lap_sequence &lt;- seq(1, max(plot_data$lap))\nplot_data_complete &lt;- plot_data %&gt;%\n  complete(driver_id, lap = full_lap_sequence, fill = list(time_sec = NA))\n\nplot_data_complete &lt;- plot_data_complete %&gt;%\n  mutate(time_sec = case_when(\n    driver_id == \"max_verstappen\" & lap %in% c(19, 33) ~ NA_real_,\n    driver_id == \"hamilton\" & lap == 20 ~ NA_real_,\n    TRUE ~ time_sec\n  ))\n\nggplot(plot_data_complete, aes(x = lap, y = time_sec, color = driver_id)) +\n  geom_line(size = 0.5) +  \n  scale_x_continuous(\n    breaks = seq(1, max(plot_data_complete$lap), by = 1),\n    limits = c(0, max(plot_data_complete$lap) + 1),\n    expand = c(0, 0)\n  ) +\n  scale_y_continuous(\n    labels = function(x) paste0(floor(x / 60), \":\", formatC(x %% 60, width = 2, flag = \"0\")),\n    limits = c(96, 102),\n    breaks = seq(96, 102, by = 2),\n    expand = c(0, 0)\n  ) +\n  scale_color_brewer(palette = \"Set1\") +  \n  labs(\n    title = \"Strategy wins races, except when its bad strategy\",\n    subtitle = \"The French GP was voted one of the best of the season.\n    Lap times show key differences in speed, strategy, and \n    tire choice that resulted in a painful last minute loss for Lewis\",\n    caption = \"stats by f1datar | Graph by Tyler Diesing\",\n    x = \"Lap Number\",\n    y = \"Lap Time\",\n    color = \"Driver\"\n  ) +\n  theme_minimal(base_size = 14) +  \n  theme(\n    panel.grid.major = element_line(color = \"gray90\", size = 0.5),  \n    panel.grid.minor = element_line(color = \"gray95\", size = 0.25),\n    legend.position = \"top\",  \n    axis.text.x = element_text(size = 6, angle = 45, hjust = 1),  \n    legend.title = element_text(size = 12),  \n    legend.text = element_text(size = 10)\n  ) + \n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap %in% c(17, 31)),\n    aes(x = lap + 0.5, y = time_sec), color = \"blue\", size = 3\n  ) +\n  geom_text(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap %in% c(17, 31)) %&gt;%\n      filter(!is.na(time_sec)),\n    aes(x = lap + 0.5, label = \"pit\"), vjust = -1, size = 3, fontface = \"bold\", color = \"blue\"\n  ) +\n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"hamilton\", lap == 18),\n    aes(x = lap + 0.5, y = time_sec), color = \"red\", size = 3\n  ) +\n  geom_text(\n    data = plot_data_complete %&gt;% filter(driver_id == \"hamilton\", lap == 18),\n    aes(x = lap + 0.5, label = \"pit\"), vjust = -1, size = 3, nudge_x = 0.2, fontface = \"bold\", color = \"red\"\n  ) +\n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap %in% c(19, 33)),\n    aes(x = lap + 0.5, y = time_sec), color = \"blue\", size = 3, alpha = 0\n  ) +\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"hamilton\", lap == 20),\n    aes(x = lap + 0.5, y = time_sec), color = \"red\", size = 3, alpha = 0\n  ) +\n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap == 52),\n    aes(x = lap + 0.2, y = time_sec), color = \"black\", size = 3\n  ) +\n  geom_text(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap == 52),\n    aes(x = lap + 0.2, label = \"VER overtake HAM\"), vjust = 1.8, nudge_x = -4, size = 3, fontface = \"bold\", color = \"black\"\n  ) +\n  geom_text(\n\n    aes(x = lap + 0.5, y = time_sec, label = case_when(\n      driver_id == \"max_verstappen\" & lap == 17 ~ \"(H)\",\n      driver_id == \"max_verstappen\" & lap == 31 ~ \"(M)\",\n      driver_id == \"hamilton\" & lap == 18 ~ \"(H)\",\n      TRUE ~ \"\"\n    )),\n    vjust = -3.9, size = 2, fontface = \"bold\",nudge_x = 0.3,inherit.aes = FALSE\n  ) \n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\nWarning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_line()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 8 rows containing missing values or values outside the scale range\n(`geom_text()`).\n\n\n\n\n\n\n\n\n\nMost teams had come to the conclusion that starting on medium tires and running a single pitstop to change to hard tires was the fastest route as you would only need to stop once and the hards would be able to last the whole race after the stop. Not RedBull.\nMax started on mediums like Lewis and trailed him until lap 18 where you can see he pits for Hards. This caught Hamilton off guard, as he was planning on a 1-stop strategy, which meant he should be trying to push those mediums as far as they can go to make sure the hards can make it to the end, but he also did not want Max to come out with fresh rubber and pass him as he gradually got slower before pitting for new tires, a move racing strategists call “the undercut”.\nThey come back out onto the track on the hards and Lewis covers the undercut to keep first place, but look at Max’s times. He’s consistently setting faster laps on the same tire which means he is pushing the tire harder than Lewis, not something you’d do if you wanted to nurse a hard tire to the end after an early pit… This is likely where the Mercedes strategists realized that Max didn’t plan on running that tire to the end, he was just trying to push Lewis into killing his own rubber.\nYou see Lewis ease up on the lap times and sure enough Verstappen gets the call to box for the medium tire. Showtime. Max comes out of the pits with softer, fresher rubber than Lewis and with 22 laps to go, the timing screens light up.\nYou see Max suddenly setting 1:36’s as Lewis tries to go as fast as possible without ripping the tires to bits. Strategists on both ends of the pits began to worry as Max grew ever closer until the penultimate lap when Verstappen, with more confidence in his tires into turn 8, slipped into the lead to win.\nAs 2nd Mercedes driver, Valtteri Bottas, said on the radio as Max sailed past him, “Why the **** did nobody listen to me when I said this would be a two-stop!”\nEvery race of the season was a stunning example of what happens when you take two athletes at the top of their game and have them push eachother and their machines to the absolute limit. Hamilton put in some of the best laps of his career in races like Brazil and his home race in Great Britain. Verstappen put up equally incredible numbers in the U.S. and at RedBulls home in Austria.\nBut there can only be one, and what better way to decide a championship than on equal points and plenty of controversy! That being said, lets take a look at this dot plot chronicling the 2021 Abu Dhabi Grand Prix.\n\n\nCode\nlibrary(f1dataR)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\n\n\nlaps &lt;- load_laps(season = 2021, round = 22)\n\n\ndrivers &lt;- c(\"max_verstappen\", \"hamilton\", \"sainz\")\nlap_times &lt;- laps %&gt;%\n  filter(driver_id %in% drivers) %&gt;%\n  select(driver_id, lap, time_sec) %&gt;%\n  arrange(driver_id, lap)\n\nlap_times &lt;- lap_times %&gt;%\n  group_by(driver_id) %&gt;%\n  mutate(cum_time = cumsum(time_sec)) %&gt;%\n  ungroup()\n\nleader_gaps &lt;- lap_times %&gt;%\n  group_by(lap) %&gt;%\n  mutate(leader_time = min(cum_time, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  mutate(gap_to_leader = cum_time - leader_time)\n\nmanual_points &lt;- data.frame(\n  driver_id = c(\"hamilton\", \"max_verstappen\", \"sainz\", \"hamilton\", \"max_verstappen\", \"sainz\"),\n  lap = c(57, 57, 57, 58, 58, 58),\n  gap_to_leader = c(0, 0.5, 1.2, 0.5, 0, 2.0)  \n)\n\nleader_gaps_fixed &lt;- leader_gaps %&gt;%\n  filter(!(lap %in% c(57, 58) & driver_id %in% drivers)) %&gt;%\n  bind_rows(manual_points)\n\ngap_limit_fixed &lt;- ceiling(max(leader_gaps_fixed$gap_to_leader, na.rm = TRUE) / 10) * 10\n\nevent_lines &lt;- data.frame(\n  lap = c(13, 14, 20.5, 1, 58),\n  label = c(\"VER Pit\", \"HAM Pit\", \"PER backs up HAM\", \"HAM passes VER\", \"VER passes HAM\"),\n  color = c(\"blue\", \"cyan\", \"orange\", \"green\", \"green\"),\n  linetype = \"solid\",\n  y_position = c(30, 30, 20, 22, 22),\n  size = c(3, 3, 3, 3, 3),\n  x_position = c(NA, 16, NA, 3, 58)\n)\n\nsc_vsc_periods &lt;- data.frame(\n  xmin = c(36, 53),\n  xmax = c(37, 57),\n  label = \"SC/VSC\"\n)\n\nggplot(leader_gaps_fixed, aes(x = lap, y = gap_to_leader, color = driver_id)) +\n  geom_rect(data = sc_vsc_periods,\n            aes(xmin = xmin, xmax = xmax, ymin = 0, ymax = gap_limit_fixed, fill = label),\n            inherit.aes = FALSE,\n            alpha = 0.2) +\n  geom_point(size = 2, alpha = 0.8) +\n  geom_line(size = 0.7, alpha = 0.7) +\n  geom_vline(data = event_lines, aes(xintercept = lap),\n             linetype = event_lines$linetype,\n             color = event_lines$color,\n             linewidth = 0.8) +\n  geom_text(data = event_lines,\n            aes(x = ifelse(!is.na(x_position), x_position, lap),\n                y = y_position,\n                label = label),\n            inherit.aes = FALSE,\n            angle = 90,\n            vjust = -0.4,\n            hjust = 0,\n            size = event_lines$size,\n            color = event_lines$color,\n            fontface = \"bold\") +\n  scale_x_continuous(\n    breaks = seq(0, 58, by = 5),\n    limits = c(0, 58.5),\n    expand = c(0, 0)\n  ) +\n  scale_y_continuous(\n    breaks = seq(0, gap_limit_fixed, by = 10),\n    limits = c(0, gap_limit_fixed),\n    expand = c(0, 0)\n  ) +\n  scale_color_manual(values = c(\n    \"max_verstappen\" = \"blue\",\n    \"hamilton\" = \"cyan\",\n    \"sainz\" = \"red\"\n  )) +\n  scale_fill_manual(\n    values = c(\"SC/VSC\" = \"gold\"),\n    guide = guide_legend(title = NULL, override.aes = list(alpha = 0.3))\n  ) +\n  guides(\n    color = guide_legend(order = 1),\n    fill = guide_legend(order = 2)\n  ) +\n  labs(\n    title = \"What decided the title decider?\",\n    subtitle = \"HAM leads, but solid pit strategy, a legendary team play, \n    and a miracle saw VER win in the final lap of a race \n    that truly showed the level these two were at compared to others\",\n    caption = \"Data via f1dataR | Tyler Diesing\",\n    x = \"Lap Number\",\n    y = \"Gap to Leader (seconds)\",\n    color = \"Driver\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_text(size = 10, color = \"white\"),\n    axis.text.y = element_text(color = \"white\"),\n    axis.title = element_text(color = \"white\"),\n    plot.title = element_text(color = \"white\", face = \"bold\", size = 16),\n    plot.subtitle = element_text(color = \"white\", size = 13),\n    plot.caption = element_text(color = \"white\", size = 10),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    plot.background = element_rect(fill = \"black\", color = NA),\n    panel.background = element_rect(fill = \"black\", color = NA),\n    legend.background = element_rect(fill = \"black\"),\n    legend.key = element_rect(fill = \"black\"),\n    legend.text = element_text(color = \"white\"),\n    legend.title = element_blank()\n  )\n\n\nWarning: Removed 24 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 24 rows containing missing values or values outside the scale range\n(`geom_line()`).\n\n\n\n\n\n\n\n\n\nThere’s a couple interesting things to see in this data. The dots show the gap (in seconds) to the lead car, which after a sensational lap 1 overtake, was Lewis for most of the time. I also included Ferrari driver Carlos Sainz as he was the best of the rest in third place, but also because when you add another driver to this chart it shows just how “in a league of their own” Max and Lewis really were.\nThe race starts, Hamilton jumps Verstappen at the start, and its cat and mouse from here on out as the two instantly leave the rest of the grid trailing behind. Then comes the pit stops. Max came in on lap 13 and Lewis came in a lap later to cover the undercut. Both leaders pitting meant that the lead now belonged to Verstappen’s teammate, Sergio Perez, who was only given one order as Hamilton grew closer in his mirrors,\n“Back him up.”\nYou can see Max losing a bit of pace to Lewis during laps 15-20, but then Sergio comes in and puts up a grizzly defense for 2 laps. That’s when you see Verstappen’s dot plot catch right up to Lewis at the front.\nLewis and Max run 1-2 for pretty much the rest of the race, pushing each other so hard that Carlos and the rest of the grid are long behind them. The fight is still on, but lap by lap you see Max fade away and start to run out of options and laps… until a crashing Nicholas Latifi brings out the safety car. The SC bunches all of the drivers up, hence why Sainz suddenly makes up a 70 second gap to the pack. Verstappen takes the opportunity to make a pitstop under the safety car, but Hamilton stays out, fearing he may lose track position to max if he pits which would lose him the race if the safety car kept circling until the end of the race. Max comes out with fresher rubber, but he’s stuck behind a bunch of the cars that he and Lewis lapped during their scramble.\nSo, either the race ends under SC and Hamilton wins or there is 1 last racing lap, but Max wouldn’t be able to fight through all the lapped cars in time to even put on a spectacle with Lewis. So surely Hamilton wins that coveted 8th title, right?\nWell that’s where it gets a little controversial. Rules state that either all lapped cars get to pass the leader to catch back up or none of them get to pass in order to not interrupt ongoing fights. In a shocking turn, however, race control only allowed the cars between Max and Lewis to catch back up, which now put Max and his brand new tires right behind Lewis on his old tires with just enough time for one racing lap.\nIn what was probably the craziest single lap of racing I had ever seen, Verstappen eventually made the overtake to claim his maiden title, albeit slightly clouded by controversy.\nThe point of all these charts and all of this data isn’t just to show off the neat ways F1 teams take in data and how it is weaponized into a competitive advantage, or even just to creatively display a fascinating title fight. It also shows just how incredible these two drivers were when all the chips were down. Almost every race was dominated by Verstappen or Hamilton by an impressive margin, and at the end of the season the next best driver was Hamilton’s teammate who was about 161 points behind the title challengers.\nThere’s a million different ways to frame the countless data points in F1, but you may be hard pressed to find another pair of drivers that warrants that much analysis."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Latest Posts",
    "section": "",
    "text": "As F1 innovates further, is the racing getting better?\n\n\n\n\n\n\nFormula 1\n\n\nF1\n\n\nracing\n\n\nmotorsport\n\n\n\n\n\n\n\n\n\nMay 2, 2025\n\n\nTyler Diesing\n\n\n\n\n\n\n\n\n\n\n\n\nWhat does one of the greatest title rivalries in F1 history look like through the data?\n\n\n\n\n\n\nFormula 1\n\n\nF1\n\n\nracing\n\n\nmotorsport\n\n\n\n\n\n\n\n\n\nApr 14, 2025\n\n\nTyler Diesing\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/overtakesf1/index.html",
    "href": "posts/overtakesf1/index.html",
    "title": "As F1 innovates further, is the racing getting better?",
    "section": "",
    "text": "With each new season of Formula 1 comes new technology, regulations, and innovations all aimed at making the car the fastest it can possibly be. From the earliest cars that could only reach 130mph all the way to the modern marvels of today that can reach 230mph, F1 just keeps getting faster and faster, but does that mean the racing is getting better? My goal is to examine overtaking data from different eras of the sport to answer the question: Does a faster, safer, more advanced formula equal better racing and more overtakes? Or is being fast simply not enough?\nFrom 1990 to present day, F1 has seen impressive amounts of innovation and change in the way the cars are constructed, but how does this show in performance on the track? Let’s take a look at this through the lens of three vastly different seasons with vastly different regulations.\n\n\nCode\nlibrary(waffle)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(patchwork)\n\n\ngroup_colors &lt;- c(\"Low\" = \"#E74C3C\", \"Medium\" = \"#F7DC6F\", \"High\" = \"#27AE60\")\n\n\novertakerace &lt;- read.table(header=TRUE, text=\"\nSeason Race Overtakes TV Percentage\n1990 USA 44 8 18.18\n1990 Brazil 42 4 9.52\n1990 San_Marino 33 4 12.12\n1990 Monaco 11 7 63.64\n1990 Canada 60 19 31.67\n1990 Mexico 73 15 20.55\n1990 France 36 6 16.67\n1990 Great_Britain 49 11 22.45\n1990 Germany 20 2 10.00\n1990 Hungary 39 8 20.51\n1990 Belgium 31 6 19.35\n1990 Italy 17 4 23.53\n1990 Portugal 31 5 16.13\n1990 Spain 18 1 5.56\n1990 Japan 11 1 9.09\n1990 Australia 29 8 27.59\n1990 Season 544 109 20.04\n2008 Australia 15 11 73.33\n2008 Malaysia 6 5 83.33\n2008 Bahrain 15 9 60.00\n2008 Spain 3 2 66.67\n2008 Turkey 15 15 100.00\n2008 Monaco 33 13 39.39\n2008 Canada 24 18 75.00\n2008 France 11 10 90.91\n2008 Great_Britain 47 29 61.70\n2008 Germany 22 17 77.27\n2008 Hungary 3 3 100.00\n2008 Europe 4 2 50.00\n2008 Belgium 40 19 47.50\n2008 Italy 48 36 75.00\n2008 Singapore 14 10 71.43\n2008 Japan 25 12 48.00\n2008 China 10 9 90.00\n2008 Brazil 31 19 61.29\n2008 Season 366 239 65.30\n2024 Bahrain 36 26 72.22\n2024 Saudi_Arabia 25 17 68.00\n2024 Australia 24 12 50.00\n2024 Japan 48 36 75.00\n2024 China_Sprint 21 12 57.14\n2024 China 53 38 71.70\n2024 Miami_Sprint 6 4 66.67\n2024 Miami 41 26 63.41\n2024 Emilia_Romagna 30 21 70.00\n2024 Monaco 4 4 100.00\n2024 Canada 48 22 45.83\n2024 Spain 55 34 61.82\n2024 Austria_Sprint 9 6 66.67\n2024 Austria 46 24 52.17\n2024 Great_Britain 26 15 57.69\n2024 Hungary 33 17 51.52\n2024 Belgium 33 22 66.67\n2024 Netherlands 43 28 65.12\n2024 Italy 39 27 69.23\n2024 Azerbaijan 47 24 51.06\n2024 Singapore 30 21 70.00\n2024 USA_Sprint 29 21 72.41\n2024 USA 33 22 66.67\n2024 Mexico 44 33 75.00\n2024 Brazil_Sprint 20 10 50.00\n2024 Brazil 43 27 62.79\n2024 Las_Vegas 77 54 70.13\n2024 Qatar_Sprint 8 4 50.00\n2024 Qatar 29 22 75.86\n2024 Abu_Dhabi 43 35 81.40\n2024 Season 930 607 65.27\n\")\nseason_choice &lt;- 1990\nseason_data_1990 &lt;- overtakerace %&gt;%\n  filter(Season == season_choice, Race != \"Season\") %&gt;%\n  mutate(overtake_group = case_when(\n    Overtakes &lt; 20 ~ \"Low\",\n    Overtakes &lt; 40 ~ \"Medium\",\n    TRUE ~ \"High\"\n  ))\n\n\nbar1 &lt;- ggplot(season_data_1990, aes(x = reorder(Race, Overtakes), y = Overtakes, fill = overtake_group)) +\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = group_colors) +\n  labs(\n    x = \"Race\",\n    y = \"Number of Overtakes\",\n    fill = \"Overtake Group\",\n  ) + \n  theme(\n    legend.position = \"none\"\n  )\n\nseason_choice &lt;- 2008\nseason_data_2008 &lt;- overtakerace %&gt;%\n  filter(Season == season_choice, Race != \"Season\") %&gt;%\n  mutate(overtake_group = case_when(\n    Overtakes &lt; 20 ~ \"Low\",\n    Overtakes &lt; 40 ~ \"Medium\",\n    TRUE ~ \"High\"\n  ))\n\n\nbar2 &lt;- ggplot(season_data_2008, aes(x = reorder(Race, Overtakes), y = Overtakes, fill = overtake_group)) +\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = group_colors) +\n  labs(\n    x = \"Race\",\n    y = \"Number of Overtakes\",\n    fill = \"Overtake Group\",\n    caption = \"Tyler Diesing|F1 overtakes, F1datar\"\n  )\nseason_choice &lt;- 2024\nseason_data_1990 &lt;- overtakerace %&gt;%\n  filter(Season == season_choice, Race != \"Season\") %&gt;%\n  mutate(overtake_group = case_when(\n    Overtakes &lt; 20 ~ \"Low\",\n    Overtakes &lt; 40 ~ \"Medium\",\n    TRUE ~ \"High\"\n  ))\n\n\nbar3 &lt;- ggplot(season_data_1990, aes(x = reorder(Race, Overtakes), y = Overtakes, fill = overtake_group)) +\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = group_colors) +\n  labs(\n    x = \"Race\",\n    y = \"Number of Overtakes\",\n    fill = \"Overtake Group\",\n  ) + \n  theme(\n    legend.position = \"none\"\n  )\n\nbar1 + bar2 + bar3 +\n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"Has the number of overtakes increased over the years?\",\n    subtitle = \"Overtakes for every race of three different seasons shows a big change in total overtakes over time\",\n    caption = \"Tyler Diesing|F1 overtaking, F1datar\"\n  )  & \n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.title = element_text(size = 8), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(), \n    legend.position = \"bottom\"\n  )\n\n\n\n\n\n\n\n\n\nFormula 1 cars in 1990 were brutal animals. Small chassis with explosively powerful v12 engines and no driver assists made for a well rounded season with decently close racing on many occasions. Smaller, lighter cars made overtakes fairly easy on most tracks.\nFast forward to 2008 and things look much different. The cars are bigger with more bodywork and screaming V-8 engines which seemed to have a bit more impact on overtaking. Bigger cars make it harder to overtake while putting out more aerodynamic turbulence and similar engine regulations make it harder to catch up and pass.\nNow let’s take a look at the 2024 season, where cars are longer, wider, and more aerodynamically complex than ever before. In order to counteract this these cars also have drag reduction systems (DRS) and much more reliable V-6 engines.\nLooking at these seasons you can easily see how changing regulations and innovations impact the action on track. Smaller cars in 1990 made for easier overtakes, but unreliable and complex engines tended to hold drivers back a bit, meaning most races fell between the 30-40 overtake range. 2008 was the last year before a regulation change meaning the cars had been upgraded and innovated to the very finest of margins within the previous regs. This typically can make races more of a stalemate because cars are similar in speeds. This is also when cars started getting bigger and more aerodynamic, making it harder to get past each other. 2024 is directly in the middle of the current regulation life span, so cars are still being upgraded. Reliable engines, DRS, faster speeds, and advanced tech make for simplified overtaking and more overtakes in general, but this doesn’t come without its drawbacks. Modern cars are multitudes bigger than those of the old days, making overtakes on narrow tracks much harder (just look at Monaco). Advanced aerodynamics can make for closer racing, but it also creates much more turbulent air which can unsettle a car travelling close behind and make it harder to pass.\nSo while overtaking may have gotten a bit harder with size and aero concerns, it has gotten much more frequent.\nOne reason why there are much more overtakes in the modern era is because of the introduction of DRS in 2011. Drag reduction was introduced as a tool to help drivers get an overtake done by opening up the rear wing and shedding drag. If a driver is within 1 second behind another driver, they get DRS to help them overtake. In an era where size and aero turbulence was making overtakes slower and more difficult, how much did DRS really help?\n\n\nCode\novertakes_2010 &lt;- data.frame(\n  Season = 2010,\n  Race = c(\"Bahrain\", \"Australia\", \"Malaysia\", \"China\", \"Spain\", \"Monaco\", \"Turkey\", \"Canada\", \"Europe\",\n           \"Great Britain\", \"Germany\", \"Hungary\", \"Belgium\", \"Italy\", \"Singapore\", \"Japan\", \"South Korea\",\n           \"Brazil\", \"Abu Dhabi\"),\n  Overtakes = c(27, 51, 26, 93, 11, 6, 29, 72, 17, 34, 16, 9, 71, 19, 33, 10, 39, 36, 16)\n)\n\n\n\n\novertakes_2010 &lt;- overtakes_2010 %&gt;%\n  mutate(Overtake_Level = case_when(\n    Overtakes &lt; 20 ~ \"Low\",\n    Overtakes &lt; 40 ~ \"Medium\",\n    TRUE ~ \"High\"\n  ))\n\n\n\n\n\novertakes_2010 &lt;- data.frame(\n  Season = 2010,\n  Race = c(\"Bahrain\", \"Australia\", \"Malaysia\", \"China\", \"Spain\", \"Monaco\", \"Turkey\", \"Canada\", \"Europe\",\n           \"Great Britain\", \"Germany\", \"Hungary\", \"Belgium\", \"Italy\", \"Singapore\", \"Japan\", \"South Korea\",\n           \"Brazil\", \"Abu Dhabi\"),\n  Overtakes = c(27, 51, 26, 93, 11, 6, 29, 72, 17, 34, 16, 9, 71, 19, 33, 10, 39, 36, 16)\n)\n\n\novertakes_2011 &lt;- data.frame(\n  Season = 2011,\n  Race = c(\"Australia\", \"Malaysia\", \"China\", \"Turkey\", \"Spain\", \"Monaco\", \"Canada\", \"Europe\",\n           \"Great Britain\", \"Germany\", \"Hungary\", \"Belgium\", \"Italy\", \"Singapore\", \"Japan\", \"South Korea\",\n           \"India\", \"Abu Dhabi\", \"Brazil\"),\n  Overtakes = c(31, 65, 98, 132, 94, 28, 129, 48, 30, 53, 75, 99, 51, 54, 80, 55, 28, 68, 31)\n)\n\n\n\nlibrary(dplyr)\n\nall_overtakes &lt;- bind_rows(overtakes_2010, overtakes_2011)\n\n\nall_overtakes &lt;- all_overtakes %&gt;%\n  mutate(\n    Overtake_Level = case_when(\n      Overtakes &lt; 20 ~ \"Low\",\n      Overtakes &lt; 50 ~ \"Medium\",\n      TRUE ~ \"High\"\n    ),\n    label = paste0(Race, \"\\n(\", Overtakes, \")\")\n  )\n\n\nall_overtakes &lt;- all_overtakes %&gt;%\n  group_by(Season) %&gt;%\n  mutate(\n    row = (row_number() - 1) %/% 5,\n    col = (row_number() - 1) %% 5\n  ) %&gt;%\n  ungroup()\n\n\nlibrary(ggplot2)\n\nggplot(all_overtakes, aes(x = col, y = -row, fill = Overtake_Level)) +\n  geom_tile(color = \"white\", width = 0.95, height = 0.95) +\n  geom_text(aes(label = label), size = 3) +\n  scale_fill_manual(\n    values = c(\"Low\" = \"#E74C3C\", \"Medium\" = \"#F7DC6F\", \"High\" = \"#27AE60\"),\n    name = \"Overtakes\"\n  ) +\n  facet_wrap(~Season, ncol = 1) +\n  theme_void() +\n  theme(legend.position = \"bottom\") +\n  labs(\n    title = \"DRS was introduced in 2011 to aid overtakes. Did it really work?\",\n    subtitle = \"The introduction of the drag reduction system clearly resulted in a net increase in overtakes\",\n    caption = \"Tyler Diesing|F1 Overtaking\"\n  )\n\n\n\n\n\n\n\n\n\nThis chart shows the number of overtakes per race between the 2010 (pre DRS) and 2011 (DRS added) seasons.\nYou can clearly see how the number of overtakes drastically expanded across the board, even in races where it was usually much harder to get an overtake done. Even just looking at races like Monaco, Abu Dhabi, and Japan you see a huge difference, which is very telling considering that these tracks are some of the hardest to overtake on. If you ask me, I’d say DRS clearly accomplished its goal as well as maybe even being one of the most important innovations in this modern era of F1.\nThe importance of DRS becomes even clearer when you take a step back and look at the average number of overtakes in every season since the 90’s. Looking at this line chart you can also see how regulation changes affected the number of overtakes in a season.\n\n\nCode\nlibrary(ggplot2)\n\novertake_data &lt;- data.frame(\n  Season = 1994:2024,\n  Overtakes = c(\n    17.9, 19.2, 18.7, 22.6, 17.8, 19.3, 18.7, 19.8, 16.1, 15.7,\n    14.4, 12.9, 14.4, 15.4, 17.2, 13.2, 23.8, 65.7, 43.5, 38.9,\n    41.9, 35.2, 41.7, 31.8, 28.4, 32.6, 31.3, 38.9, 39.9, 35.3, 35.8\n  )\n)\n\nreg_changes &lt;- data.frame(\n  Year = c(1994, 1995, 2004, 2009, 2011, 2014, 2017, 2022)\n)\n\nggplot(overtake_data, aes(x = Season, y = Overtakes)) +\n  geom_line(color = \"red\", size = 1.2) +\n  geom_point(size = 2, color = \"blue\") +\n  scale_x_continuous(\n    breaks = overtake_data$Season,\n    expand = expansion(mult = c(0.01, 0.01))\n  ) +\n  scale_y_continuous(\n    breaks = seq(10, 70, by = 5),\n    expand = expansion(mult = c(0.05, 0.05))\n  ) +\n  labs(\n    title = \"What is the trend with average overtakes from 1994–2024?\",\n    subtitle = \"As regulations change every couple of years so do overtaking trends\",\n    x = \"Season\",\n    y = \"Average Overtakes per Race\",\n    caption = \"Tyler Diesing|F1 median overtakes per season\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 60, hjust = 1, size = 8)\n  ) +\n  geom_vline(\n    data = reg_changes, aes(xintercept = Year),\n    color = \"black\", linetype = \"dashed\", size = 0.7\n  )\n\n\n\n\n\n\n\n\n\nThings were pretty tame up to 2010 with fewer regulation changes and relatively a lower average overtake rate. Then comes 2011 with the DRS regulations and you can see how the number of overtakes skyrocketed as a result. After 2011 the average number of overtakes stayed consistently high throughout every season and regulation change compared to 1994-2010.\nThings seem to have mellowed out a bit since that initial introduction of DRS in 2011, likely a result of teams gaining more understanding of the effects and uses of DRS after the new tech was introduced. That being said, the numbers are still consistently higher than they had ever been in the sport.\nEvery time F1 races in narrow tracks like Monaco and Japan or at aerodynamically turbulent tracks like Abu Dhabi and Qatar there is always a loud heap of people who shout that F1 cars don’t put on a show like they used to, but when you look at the data over a long period of time you can see that there’s more overtakes going on than ever before."
  },
  {
    "objectID": "posts/how-f1-prepares-for-new-tracks/index.html",
    "href": "posts/how-f1-prepares-for-new-tracks/index.html",
    "title": "What does one of the greatest title rivalries in F1 history look like through the data?",
    "section": "",
    "text": "The 2021 Formula 1 season will undoubtedly go down as one of the best rivalry seasons of all time in any sport. Every race, every lap, every twist and turn of the season, Max Verstappen and Lewis Hamilton exchanged blows one way or another all the way up until the final race in Abu Dhabi where they both arrived on equal points. So, in a title fight that was tighter than any corner of the Monaco Street circuit, how did these two gladiators fare against each other throughout the season? Where did they gain on eachother? Where did they lose out? What could have been different? And how did these two manage to stay in another league compared to the rest of the grid?\nCode\nlibrary(f1dataR)\n\n\nLoading required package: reticulate\n\n\nCode\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(ggplot2)"
  },
  {
    "objectID": "posts/how-f1-prepares-for-new-tracks/index.html#for-this-analysis-i-mainly-used-data-from-the-f1datar-library-as-well-as-a-spreadsheet-i-made-for-points-totals-using-stats-i-got-from-the-official-f1-results-page-on-their-website.",
    "href": "posts/how-f1-prepares-for-new-tracks/index.html#for-this-analysis-i-mainly-used-data-from-the-f1datar-library-as-well-as-a-spreadsheet-i-made-for-points-totals-using-stats-i-got-from-the-official-f1-results-page-on-their-website.",
    "title": "What does one of the greatest title rivalries in F1 history look like through the data?",
    "section": "For this analysis I mainly used data from the “f1datar” library, as well as a spreadsheet I made for points totals using stats I got from the official F1 results page on their website.",
    "text": "For this analysis I mainly used data from the “f1datar” library, as well as a spreadsheet I made for points totals using stats I got from the official F1 results page on their website.\n7x World Champion Lewis Hamilton VS Max Verstappen hunting for his first. Mercedes coming off of winning 7 constructors titles in a row VS Redbull looking for their first since 2013. Unstoppable force VS immovable object.\nYou couldn’t have asked for a closer matchup, but just how close was it? lets put it into perspective…\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\nrace_points &lt;- data.frame(\n  Race = 1:22,\n  Verstappen = c(18,25,18,19,25,0,26,25,26,0,2,25,25,0,18,18,25,25,18,19,18,26),\n  Hamilton = c(25,19,25,25,7,0,18,19,12,25,18,15,19,0,25,10,19,18,25,25,26,18)\n) %&gt;%\n  mutate(\n    Verstappen_Cumulative = cumsum(Verstappen),\n    Hamilton_Cumulative = cumsum(Hamilton)\n  )\n\nplot_data &lt;- race_points %&gt;%\n  pivot_longer(cols = c(Verstappen_Cumulative, Hamilton_Cumulative),\n               names_to = \"Driver\", values_to = \"Points\") %&gt;%\n  group_by(Driver) %&gt;%\n  mutate(LabelPos = Points + 15)\n\nggplot(plot_data, aes(x = factor(Race), y = Points, fill = Driver)) +\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.8), width = 0.7) +\n  geom_text(aes(y = LabelPos, label = Points), \n            angle = 45, hjust = 0, vjust = 0.5,\n            size = 1.9, color = \"black\",\n            position = position_dodge(width = 0.8)) +  # Only position_dodge here\n  scale_x_discrete(breaks = 1:22) +\n  scale_fill_manual(values = c(\"Verstappen_Cumulative\" = \"blue\", \n                               \"Hamilton_Cumulative\" = \"#00D2BE\"),\n                    labels = c(\"Lewis Hamilton\", \"Max Verstappen\")) +\n  labs(title = \"The finest of margins: points totals after each race\",\n       subtitle = \"\n       even the smallest difference in results at any race could have changed the entire \n       outcome of the season\",\n       caption = \"From stats on F1 website | by Tyler Diesing\",\n       x = \"Race Number\",\n       y = \"Cumulative Points\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 0, vjust = 0.5),\n    panel.grid.major.x = element_blank(),\n    legend.position = \"top\",\n    plot.margin = margin(20, 20, 20, 20),\n    plot.title = element_text(size = 16, face = \"bold\"), \n    plot.subtitle = element_text(size = 12)            \n  ) +\n  expand_limits(y = max(plot_data$LabelPos) + 20)\n\n\n\n\n\n\n\n\n\nThis is every race of the 2021 season through the lens of how many points Hamilton and Verstappen had accumulated after each round, which shows a couple key moments throughout the season. The first thing you should know is how much each finishing position is worth in points. Only the top ten earn points with A 1st place finish being 25 points in the bag, 2nd place = 18 points, 3rd = 15 points, and 4th = 12 points with the rest of the positions decreasing by 2 points until 10th place which is worth 1.\nSafe to say, Max and Lewis occupied the podium a lot, in fact, the first five races were won by either one of them. This brings us to round 6 in Azerbaijan, our first truly pivotal moment. Verstappen suffered a tire blowout on the main straight, sending his RedBull bouncing off the barriers and taking away an opportunity to score points. Lewis, who was now leading the race, now had a perfect opportunity to put a major gap between himself and Max in the standings, except he didn’t, because he didn’t collect a single point that day because he locked his brakes on the restart, allowing every driver behind him to slip by.\nNeither driver got points that day, and you’ll notice the same thing happened during round 14 in Italy. In spectacular fashion, Lewis was coming out of the pits as Max was coming down the main straight right behind him. The two cars went side by side into Monzas notoriously tight turn 1 and inevitably Verstappen’s RedBull ended up sitting atop Hamilton’s Mercedes in the gravel. Another 0-0 for our champions.\nThese two races are a lot to think about, but especially when you also look at how the lead swung between them throughout the season. Lewis looked set to take off with the title after round 4, but a brutal round 5 in Monaco not only brought Max back into the fight, it propelled him to heights like round 9 where suddenly it was looking like he might run away with the championship. From there on you can see the two were practically wheel to wheel every race until somehow they arrived at the grand finale in Abu Dhabi with equal points.\nThe races themselves were thrillers, but this chart shows just how absurdly close Max and Lewis were for the whole season. Beyond that, it also shows what I think Lewis Hamilton’s nightmares must look like after ultimately losing that final race. All it would’ve taken was for him to finish just one of those two zero point races for everything to be different.\nSlightly lighter on the brakes into turn one at Azerbaijan and Lewis Hamilton would be a record breaking 8x world champion.\nLet’s zoom in and take a look at some individual races, starting with the French Grand Prix at Circuit Paul Ricard.\nThis is a line chart showing each individual lap time throughout the whole race along with tire/pitstop strategy. Strategists for the teams spend days staring at charts like this in an effort to figure out what kind of strategy will work best for which tires, tracks, weather, elevations, the list goes on.\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\n\nlaps_data &lt;- load_laps(season = 2021, round = 7)\n\nplot_data &lt;- laps_data %&gt;%\n  filter(driver_id %in% c(\"max_verstappen\", \"hamilton\"))\n\nfull_lap_sequence &lt;- seq(1, max(plot_data$lap))\nplot_data_complete &lt;- plot_data %&gt;%\n  complete(driver_id, lap = full_lap_sequence, fill = list(time_sec = NA))\n\nplot_data_complete &lt;- plot_data_complete %&gt;%\n  mutate(time_sec = case_when(\n    driver_id == \"max_verstappen\" & lap %in% c(19, 33) ~ NA_real_,\n    driver_id == \"hamilton\" & lap == 20 ~ NA_real_,\n    TRUE ~ time_sec\n  ))\n\nggplot(plot_data_complete, aes(x = lap, y = time_sec, color = driver_id)) +\n  geom_line(size = 0.5) +  \n  scale_x_continuous(\n    breaks = seq(1, max(plot_data_complete$lap), by = 1),\n    limits = c(0, max(plot_data_complete$lap) + 1),\n    expand = c(0, 0)\n  ) +\n  scale_y_continuous(\n    labels = function(x) paste0(floor(x / 60), \":\", formatC(x %% 60, width = 2, flag = \"0\")),\n    limits = c(96, 102),\n    breaks = seq(96, 102, by = 2),\n    expand = c(0, 0)\n  ) +\n  scale_color_brewer(palette = \"Set1\") +  \n  labs(\n    title = \"Strategy wins races, except when its bad strategy\",\n    subtitle = \"The French GP was voted one of the best of the season.\n    Lap times show key differences in speed, strategy, and \n    tire choice that resulted in a painful last minute loss for Lewis\",\n    caption = \"stats by f1datar | Graph by Tyler Diesing\",\n    x = \"Lap Number\",\n    y = \"Lap Time\",\n    color = \"Driver\"\n  ) +\n  theme_minimal(base_size = 14) +  \n  theme(\n    panel.grid.major = element_line(color = \"gray90\", size = 0.5),  \n    panel.grid.minor = element_line(color = \"gray95\", size = 0.25),\n    legend.position = \"top\",  \n    axis.text.x = element_text(size = 6, angle = 45, hjust = 1),  \n    legend.title = element_text(size = 12),  \n    legend.text = element_text(size = 10)\n  ) + \n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap %in% c(17, 31)),\n    aes(x = lap + 0.5, y = time_sec), color = \"blue\", size = 3\n  ) +\n  geom_text(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap %in% c(17, 31)) %&gt;%\n      filter(!is.na(time_sec)),\n    aes(x = lap + 0.5, label = \"pit\"), vjust = -1, size = 3, fontface = \"bold\", color = \"blue\"\n  ) +\n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"hamilton\", lap == 18),\n    aes(x = lap + 0.5, y = time_sec), color = \"red\", size = 3\n  ) +\n  geom_text(\n    data = plot_data_complete %&gt;% filter(driver_id == \"hamilton\", lap == 18),\n    aes(x = lap + 0.5, label = \"pit\"), vjust = -1, size = 3, nudge_x = 0.2, fontface = \"bold\", color = \"red\"\n  ) +\n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap %in% c(19, 33)),\n    aes(x = lap + 0.5, y = time_sec), color = \"blue\", size = 3, alpha = 0\n  ) +\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"hamilton\", lap == 20),\n    aes(x = lap + 0.5, y = time_sec), color = \"red\", size = 3, alpha = 0\n  ) +\n\n  geom_point(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap == 52),\n    aes(x = lap + 0.2, y = time_sec), color = \"black\", size = 3\n  ) +\n  geom_text(\n    data = plot_data_complete %&gt;% filter(driver_id == \"max_verstappen\", lap == 52),\n    aes(x = lap + 0.2, label = \"VER overtake HAM\"), vjust = 1.8, nudge_x = -4, size = 3, fontface = \"bold\", color = \"black\"\n  ) +\n  geom_text(\n\n    aes(x = lap + 0.5, y = time_sec, label = case_when(\n      driver_id == \"max_verstappen\" & lap == 17 ~ \"(H)\",\n      driver_id == \"max_verstappen\" & lap == 31 ~ \"(M)\",\n      driver_id == \"hamilton\" & lap == 18 ~ \"(H)\",\n      TRUE ~ \"\"\n    )),\n    vjust = -3.9, size = 2, fontface = \"bold\",nudge_x = 0.3,inherit.aes = FALSE\n  ) \n\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\nWarning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_line()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 8 rows containing missing values or values outside the scale range\n(`geom_text()`).\n\n\n\n\n\n\n\n\n\nMost teams had come to the conclusion that starting on medium tires and running a single pitstop to change to hard tires was the fastest route as you would only need to stop once and the hards would be able to last the whole race after the stop. Not RedBull.\nMax started on mediums like Lewis and trailed him until lap 18 where you can see he pits for Hards. This caught Hamilton off guard, as he was planning on a 1-stop strategy, which meant he should be trying to push those mediums as far as they can go to make sure the hards can make it to the end, but he also did not want Max to come out with fresh rubber and pass him as he gradually got slower before pitting for new tires, a move racing strategists call “the undercut”.\nThey come back out onto the track on the hards and Lewis covers the undercut to keep first place, but look at Max’s times. He’s consistently setting faster laps on the same tire which means he is pushing the tire harder than Lewis, not something you’d do if you wanted to nurse a hard tire to the end after an early pit… This is likely where the Mercedes strategists realized that Max didn’t plan on running that tire to the end, he was just trying to push Lewis into killing his own rubber.\nYou see Lewis ease up on the lap times and sure enough Verstappen gets the call to box for the medium tire. Showtime. Max comes out of the pits with softer, fresher rubber than Lewis and with 22 laps to go, the timing screens light up.\nYou see Max suddenly setting 1:36’s as Lewis tries to go as fast as possible without ripping the tires to bits. Strategists on both ends of the pits began to worry as Max grew ever closer until the penultimate lap when Verstappen, with more confidence in his tires into turn 8, slipped into the lead to win.\nAs 2nd Mercedes driver, Valtteri Bottas, said on the radio as Max sailed past him, “Why the **** did nobody listen to me when I said this would be a two-stop!”\n\nEvery race of the season was a stunning example of what happens when you take two athletes at the top of their game and have them push eachother and their machines to the absolute limit. Hamilton put in some of the best laps of his career in races like Brazil and his home race in Great Britain. Verstappen put up equally incredible numbers in the U.S. and at RedBulls home in Austria.\nBut there can only be one, and what better way to decide a championship than on equal points and plenty of controversy! That being said, lets take a look at this dot plot chronicling the 2021 Abu Dhabi Grand Prix.\n\n\nCode\nlibrary(f1dataR)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(ggplot2)\n\n\nlaps &lt;- load_laps(season = 2021, round = 22)\n\n\ndrivers &lt;- c(\"max_verstappen\", \"hamilton\", \"sainz\")\nlap_times &lt;- laps %&gt;%\n  filter(driver_id %in% drivers) %&gt;%\n  select(driver_id, lap, time_sec) %&gt;%\n  arrange(driver_id, lap)\n\nlap_times &lt;- lap_times %&gt;%\n  group_by(driver_id) %&gt;%\n  mutate(cum_time = cumsum(time_sec)) %&gt;%\n  ungroup()\n\nleader_gaps &lt;- lap_times %&gt;%\n  group_by(lap) %&gt;%\n  mutate(leader_time = min(cum_time, na.rm = TRUE)) %&gt;%\n  ungroup() %&gt;%\n  mutate(gap_to_leader = cum_time - leader_time)\n\nmanual_points &lt;- data.frame(\n  driver_id = c(\"hamilton\", \"max_verstappen\", \"sainz\", \"hamilton\", \"max_verstappen\", \"sainz\"),\n  lap = c(57, 57, 57, 58, 58, 58),\n  gap_to_leader = c(0, 0.5, 1.2, 0.5, 0, 2.0)  \n)\n\nleader_gaps_fixed &lt;- leader_gaps %&gt;%\n  filter(!(lap %in% c(57, 58) & driver_id %in% drivers)) %&gt;%\n  bind_rows(manual_points)\n\ngap_limit_fixed &lt;- ceiling(max(leader_gaps_fixed$gap_to_leader, na.rm = TRUE) / 10) * 10\n\nevent_lines &lt;- data.frame(\n  lap = c(13, 14, 20.5, 1, 58),\n  label = c(\"VER Pit\", \"HAM Pit\", \"PER backs up HAM\", \"HAM passes VER\", \"VER passes HAM\"),\n  color = c(\"blue\", \"cyan\", \"orange\", \"green\", \"green\"),\n  linetype = \"solid\",\n  y_position = c(30, 30, 20, 22, 22),\n  size = c(3, 3, 3, 3, 3),\n  x_position = c(NA, 16, NA, 3, 58)\n)\n\nsc_vsc_periods &lt;- data.frame(\n  xmin = c(36, 53),\n  xmax = c(37, 57),\n  label = \"SC/VSC\"\n)\n\nggplot(leader_gaps_fixed, aes(x = lap, y = gap_to_leader, color = driver_id)) +\n  geom_rect(data = sc_vsc_periods,\n            aes(xmin = xmin, xmax = xmax, ymin = 0, ymax = gap_limit_fixed, fill = label),\n            inherit.aes = FALSE,\n            alpha = 0.2) +\n  geom_point(size = 2, alpha = 0.8) +\n  geom_line(size = 0.7, alpha = 0.7) +\n  geom_vline(data = event_lines, aes(xintercept = lap),\n             linetype = event_lines$linetype,\n             color = event_lines$color,\n             linewidth = 0.8) +\n  geom_text(data = event_lines,\n            aes(x = ifelse(!is.na(x_position), x_position, lap),\n                y = y_position,\n                label = label),\n            inherit.aes = FALSE,\n            angle = 90,\n            vjust = -0.4,\n            hjust = 0,\n            size = event_lines$size,\n            color = event_lines$color,\n            fontface = \"bold\") +\n  scale_x_continuous(\n    breaks = seq(0, 58, by = 5),\n    limits = c(0, 58.5),\n    expand = c(0, 0)\n  ) +\n  scale_y_continuous(\n    breaks = seq(0, gap_limit_fixed, by = 10),\n    limits = c(0, gap_limit_fixed),\n    expand = c(0, 0)\n  ) +\n  scale_color_manual(values = c(\n    \"max_verstappen\" = \"blue\",\n    \"hamilton\" = \"cyan\",\n    \"sainz\" = \"red\"\n  )) +\n  scale_fill_manual(\n    values = c(\"SC/VSC\" = \"gold\"),\n    guide = guide_legend(title = NULL, override.aes = list(alpha = 0.3))\n  ) +\n  guides(\n    color = guide_legend(order = 1),\n    fill = guide_legend(order = 2)\n  ) +\n  labs(\n    title = \"What decided the title decider?\",\n    subtitle = \"HAM leads, but solid pit strategy, a legendary team play, \n    and a miracle saw VER win in the final lap of a race \n    that truly showed the level these two were at compared to others\",\n    caption = \"Data via f1dataR | Tyler Diesing\",\n    x = \"Lap Number\",\n    y = \"Gap to Leader (seconds)\",\n    color = \"Driver\"\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    legend.position = \"top\",\n    axis.text.x = element_text(size = 10, color = \"white\"),\n    axis.text.y = element_text(color = \"white\"),\n    axis.title = element_text(color = \"white\"),\n    plot.title = element_text(color = \"white\", face = \"bold\", size = 16),\n    plot.subtitle = element_text(color = \"white\", size = 13),\n    plot.caption = element_text(color = \"white\", size = 10),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    plot.background = element_rect(fill = \"black\", color = NA),\n    panel.background = element_rect(fill = \"black\", color = NA),\n    legend.background = element_rect(fill = \"black\"),\n    legend.key = element_rect(fill = \"black\"),\n    legend.text = element_text(color = \"white\"),\n    legend.title = element_blank()\n  )\n\n\nWarning: Removed 24 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning: Removed 24 rows containing missing values or values outside the scale range\n(`geom_line()`).\n\n\n\n\n\n\n\n\n\nThere’s a couple interesting things to see in this data. The dots show the gap (in seconds) to the lead car, which after a sensational lap 1 overtake, was Lewis for most of the time. I also included Ferrari driver Carlos Sainz as he was the best of the rest in third place, but also because when you add another driver to this chart it shows just how “in a league of their own” Max and Lewis really were.\nThe race starts, Hamilton jumps Verstappen at the start, and its cat and mouse from here on out as the two instantly leave the rest of the grid trailing behind. Then comes the pit stops. Max came in on lap 13 and Lewis came in a lap later to cover the undercut. Both leaders pitting meant that the lead now belonged to Verstappen’s teammate, Sergio Perez, who was only given one order as Hamilton grew closer in his mirrors,\n“Back him up.”\nYou can see Max losing a bit of pace to Lewis during laps 15-20, but then Sergio comes in and puts up a grizzly defense for 2 laps. That’s when you see Verstappen’s dot plot catch right up to Lewis at the front.\nLewis and Max run 1-2 for pretty much the rest of the race, pushing each other so hard that Carlos and the rest of the grid are long behind them. The fight is still on, but lap by lap you see Max fade away and start to run out of options and laps… until a crashing Nicholas Latifi brings out the safety car. The SC bunches all of the drivers up, hence why Sainz suddenly makes up a 70 second gap to the pack. Verstappen takes the opportunity to make a pitstop under the safety car, but Hamilton stays out, fearing he may lose track position to max if he pits which would lose him the race if the safety car kept circling until the end of the race. Max comes out with fresher rubber, but he’s stuck behind a bunch of the cars that he and Lewis lapped during their scramble.\nSo, either the race ends under SC and Hamilton wins or there is 1 last racing lap, but Max wouldn’t be able to fight through all the lapped cars in time to even put on a spectacle with Lewis. So surely Hamilton wins that coveted 8th title, right?\nWell that’s where it gets a little controversial. Rules state that either all lapped cars get to pass the leader to catch back up or none of them get to pass in order to not interrupt ongoing fights. In a shocking turn, however, race control only allowed the cars between Max and Lewis to catch back up, which now put Max and his brand new tires right behind Lewis on his old tires with just enough time for one racing lap.\nIn what was probably the craziest single lap of racing I had ever seen, Verstappen eventually made the overtake to claim his maiden title, albeit slightly clouded by controversy.\nThe point of all these charts and all of this data isn’t just to show off the neat ways F1 teams take in data and how it is weaponized into a competitive advantage, or even just to creatively display a fascinating title fight. It also shows just how incredible these two drivers were when all the chips were down. Almost every race was dominated by Verstappen or Hamilton by an impressive margin, and at the end of the season the next best driver was Hamilton’s teammate who was about 161 points behind the title challengers.\nThere’s a million different ways to frame the countless data points in F1, but you may be hard pressed to find another pair of drivers that warrants that much analysis."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "’Round and ’Round in circles… Tyler Diesing spends his days bringing the diverse and complex world of automotive and motorsport journalism to a broader audience in an understandable and entertaining format."
  }
]